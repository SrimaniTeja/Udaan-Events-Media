module.exports=[34904,a=>{"use strict";var b=a.i(87924),c=a.i(69767);function d({className:a,...d}){return(0,b.jsx)("div",{className:(0,c.cn)("rounded-2xl border border-border bg-surface/70 shadow-sm backdrop-blur supports-[backdrop-filter]:bg-surface/60",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{className:(0,c.cn)("p-5",a),...d})}function f({className:a,...d}){return(0,b.jsx)("h3",{className:(0,c.cn)("text-sm font-semibold text-foreground",a),...d})}function g({className:a,...d}){return(0,b.jsx)("p",{className:(0,c.cn)("mt-1 text-sm text-muted-foreground",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{className:(0,c.cn)("px-5 pb-5",a),...d})}a.s(["Card",()=>d,"CardContent",()=>h,"CardDescription",()=>g,"CardHeader",()=>e,"CardTitle",()=>f])},83622,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(38246),e=a.i(50944),f=a.i(34904),g=a.i(12466);function h(){let a=(0,e.useRouter)(),[h,i]=c.useState([]),[j,k]=c.useState(!0);async function l(){k(!0);let a=await fetch("/api/notifications"),b=await a.json().catch(()=>null);i(b?.notifications??[]),k(!1)}async function m(b){await fetch("/api/notifications",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:b})}),await l(),a.refresh()}return c.useEffect(()=>{l()},[]),(0,b.jsxs)(f.Card,{children:[(0,b.jsx)(f.CardHeader,{children:(0,b.jsx)(f.CardTitle,{children:"Notifications"})}),(0,b.jsx)(f.CardContent,{className:"grid gap-3",children:j?(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"Loadingâ€¦"}):0===h.length?(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"No notifications yet."}):h.map(a=>(0,b.jsxs)("div",{className:"flex flex-col gap-2 rounded-2xl border border-border bg-surface/40 p-4 sm:flex-row sm:items-center sm:justify-between",children:[(0,b.jsxs)("div",{className:"min-w-0",children:[(0,b.jsxs)("div",{className:"text-sm font-medium",children:[a.title," ",a.isRead?(0,b.jsx)("span",{className:"ml-2 text-xs text-muted-foreground",children:"(read)"}):(0,b.jsx)("span",{className:"ml-2 text-xs text-primary",children:"(new)"})]}),(0,b.jsx)("div",{className:"mt-1 text-sm text-muted-foreground",children:a.message}),a.eventId?(0,b.jsxs)("div",{className:"mt-2 text-xs text-muted-foreground",children:["Event:"," ",(0,b.jsx)(d.default,{href:"#",className:"text-primary hover:underline",children:a.eventId})]}):null]}),a.isRead?null:(0,b.jsx)(g.Button,{variant:"secondary",onClick:()=>void m(a.id),children:"Mark read"})]},a.id))})]})}a.s(["NotificationsList",()=>h])}];

//# sourceMappingURL=components_bb641e14._.js.map