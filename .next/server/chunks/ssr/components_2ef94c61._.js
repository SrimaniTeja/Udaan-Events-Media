module.exports=[52616,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(69767),f=a.i(12466);function g({eventId:a,fileType:g,label:h}){let i=(0,d.useRouter)(),j=c.useRef(null),[k,l]=c.useState(!1),[m,n]=c.useState(!1),[o,p]=c.useState(null);async function q(b){if(0===b.length)return;l(!0),p(null);let c=new FormData;for(let a of b)c.append("files",a);let d=await fetch(`/api/upload?eventId=${encodeURIComponent(a)}&fileType=${g}`,{method:"POST",body:c});if(!d.ok){let a=await d.json().catch(()=>null);p(a?.error??"Upload failed"),l(!1);return}l(!1),i.refresh()}return(0,b.jsxs)("div",{className:"grid gap-3",children:[(0,b.jsxs)("div",{className:(0,e.cn)("rounded-2xl border border-dashed border-border bg-surface/40 p-6 transition",m?"border-primary/60 bg-primary/10":"hover:bg-surface/60"),onDragEnter:a=>{a.preventDefault(),a.stopPropagation(),n(!0)},onDragOver:a=>{a.preventDefault(),a.stopPropagation(),n(!0)},onDragLeave:a=>{a.preventDefault(),a.stopPropagation(),n(!1)},onDrop:a=>{a.preventDefault(),a.stopPropagation(),n(!1),q(Array.from(a.dataTransfer.files))},children:[(0,b.jsxs)("div",{className:"flex flex-col items-start gap-2 sm:flex-row sm:items-center sm:justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm font-medium",children:h}),(0,b.jsx)("div",{className:"mt-1 text-xs text-muted-foreground",children:"Drag & drop files here, or choose from your device. (Drive upload streaming will be added next.)"})]}),(0,b.jsx)("div",{className:"flex gap-2",children:(0,b.jsx)(f.Button,{type:"button",variant:"secondary",onClick:function(){j.current?.click()},disabled:k,children:"Choose files"})})]}),(0,b.jsx)("input",{ref:j,className:"hidden",type:"file",multiple:!0,onChange:a=>void q(Array.from(a.target.files??[]))})]}),o?(0,b.jsx)("div",{className:"rounded-xl border border-warning/30 bg-warning/10 px-3 py-2 text-sm text-warning",children:o}):null,k?(0,b.jsx)("div",{className:"text-xs text-muted-foreground",children:"Uploading…"}):null]})}a.s(["FileDropzone",()=>g])},62850,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(12466);function f({eventId:a,nextStatus:f,children:g,variant:h="primary"}){let i=(0,d.useRouter)(),[j,k]=c.useState(!1);async function l(){k(!0),await fetch(`/api/events/${encodeURIComponent(a)}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({nextStatus:f})}),k(!1),i.refresh()}return(0,b.jsx)(e.Button,{onClick:l,disabled:j,variant:h,children:j?"Working…":g})}a.s(["EventStatusActionButton",()=>f])}];

//# sourceMappingURL=components_2ef94c61._.js.map