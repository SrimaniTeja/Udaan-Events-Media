{"version":3,"sources":["../../../../components/ui/Input.tsx","../../../../components/admin/CreateEventForm.tsx"],"sourcesContent":["import * as React from \"react\";\r\nimport { cn } from \"@/lib/cn\";\r\n\r\nexport function Input({\r\n  className,\r\n  ...props\r\n}: React.InputHTMLAttributes<HTMLInputElement>) {\r\n  return (\r\n    <input\r\n      className={cn(\r\n        \"h-10 w-full rounded-xl border border-border bg-surface-2 px-3 text-sm text-foreground placeholder:text-muted-foreground shadow-sm outline-none transition focus:border-primary/60 focus:ring-2 focus:ring-primary/20\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\n\r\n","\"use client\";\r\n\r\nimport * as React from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport type { User } from \"@/lib/types\";\r\nimport { Button } from \"@/components/ui/Button\";\r\nimport { Input } from \"@/components/ui/Input\";\r\n\r\nexport function CreateEventForm({\r\n  cameramen,\r\n  editors,\r\n}: {\r\n  cameramen: User[];\r\n  editors: User[];\r\n}) {\r\n  const router = useRouter();\r\n  const [name, setName] = React.useState(\"\");\r\n  const [date, setDate] = React.useState(() => new Date().toISOString().slice(0, 10));\r\n  const [cameramanId, setCameramanId] = React.useState<string>(\"\");\r\n  const [editorId, setEditorId] = React.useState<string>(\"\");\r\n  const [busy, setBusy] = React.useState(false);\r\n  const [error, setError] = React.useState<string | null>(null);\r\n\r\n  async function submit(e: React.FormEvent) {\r\n    e.preventDefault();\r\n    setBusy(true);\r\n    setError(null);\r\n\r\n    const res = await fetch(\"/api/events\", {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({\r\n        name,\r\n        date: new Date(date).toISOString(),\r\n        cameramanId: cameramanId || null,\r\n        editorId: editorId || null,\r\n      }),\r\n    });\r\n\r\n    const data = (await res.json().catch(() => null)) as any;\r\n    if (!res.ok) {\r\n      setBusy(false);\r\n      setError(data?.error ?? \"Failed to create event\");\r\n      return;\r\n    }\r\n\r\n    const id = data.event.id as string;\r\n    router.push(`/admin/events/${encodeURIComponent(id)}`);\r\n    router.refresh();\r\n  }\r\n\r\n  return (\r\n    <form className=\"grid gap-4\" onSubmit={submit}>\r\n      <div className=\"grid gap-2\">\r\n        <label className=\"text-sm text-muted-foreground\">Event name</label>\r\n        <Input value={name} onChange={(e) => setName(e.target.value)} placeholder=\"e.g., Wedding Reception\" />\r\n      </div>\r\n      <div className=\"grid gap-2\">\r\n        <label className=\"text-sm text-muted-foreground\">Date</label>\r\n        <Input value={date} onChange={(e) => setDate(e.target.value)} type=\"date\" />\r\n      </div>\r\n      <div className=\"grid gap-2\">\r\n        <label className=\"text-sm text-muted-foreground\">Assign cameraman</label>\r\n        <select\r\n          className=\"h-10 w-full rounded-xl border border-border bg-surface-2 px-3 text-sm text-foreground outline-none focus:ring-2 focus:ring-primary/20\"\r\n          value={cameramanId}\r\n          onChange={(e) => setCameramanId(e.target.value)}\r\n        >\r\n          <option value=\"\">Unassigned</option>\r\n          {cameramen.map((u) => (\r\n            <option key={u.id} value={u.id}>\r\n              {u.name}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n      <div className=\"grid gap-2\">\r\n        <label className=\"text-sm text-muted-foreground\">Assign editor</label>\r\n        <select\r\n          className=\"h-10 w-full rounded-xl border border-border bg-surface-2 px-3 text-sm text-foreground outline-none focus:ring-2 focus:ring-primary/20\"\r\n          value={editorId}\r\n          onChange={(e) => setEditorId(e.target.value)}\r\n        >\r\n          <option value=\"\">Unassigned</option>\r\n          {editors.map((u) => (\r\n            <option key={u.id} value={u.id}>\r\n              {u.name}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n\r\n      {error ? (\r\n        <div className=\"rounded-xl border border-warning/30 bg-warning/10 px-3 py-2 text-sm text-warning\">\r\n          {error}\r\n        </div>\r\n      ) : null}\r\n\r\n      <div className=\"flex items-center gap-2\">\r\n        <Button type=\"submit\" disabled={busy}>\r\n          {busy ? \"Creatingâ€¦\" : \"Create event\"}\r\n        </Button>\r\n        <Button type=\"button\" variant=\"ghost\" onClick={() => router.back()} disabled={busy}>\r\n          Cancel\r\n        </Button>\r\n      </div>\r\n    </form>\r\n  );\r\n}\r\n\r\n\r\n"],"names":[],"mappings":"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"}