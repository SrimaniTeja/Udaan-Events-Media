(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,48459,e=>{"use strict";var t=e.i(43476),r=e.i(71645),n=e.i(18566),a=e.i(33209),i=e.i(76525);function o({eventId:e,fileType:o,label:s}){let l=(0,n.useRouter)(),d=r.useRef(null),[c,u]=r.useState(!1),[p,f]=r.useState(!1),[m,g]=r.useState(null);async function h(t){if(0===t.length)return;u(!0),g(null);let r=new FormData;for(let e of t)r.append("files",e);let n=await fetch(`/api/upload?eventId=${encodeURIComponent(e)}&fileType=${o}`,{method:"POST",body:r});if(!n.ok){let e=await n.json().catch(()=>null);g(e?.error??"Upload failed"),u(!1);return}u(!1),l.refresh()}return(0,t.jsxs)("div",{className:"grid gap-3",children:[(0,t.jsxs)("div",{className:(0,a.cn)("rounded-2xl border border-dashed border-border bg-surface/40 p-6 transition",p?"border-primary/60 bg-primary/10":"hover:bg-surface/60"),onDragEnter:e=>{e.preventDefault(),e.stopPropagation(),f(!0)},onDragOver:e=>{e.preventDefault(),e.stopPropagation(),f(!0)},onDragLeave:e=>{e.preventDefault(),e.stopPropagation(),f(!1)},onDrop:e=>{e.preventDefault(),e.stopPropagation(),f(!1),h(Array.from(e.dataTransfer.files))},children:[(0,t.jsxs)("div",{className:"flex flex-col items-start gap-2 sm:flex-row sm:items-center sm:justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm font-medium",children:s}),(0,t.jsx)("div",{className:"mt-1 text-xs text-muted-foreground",children:"Drag & drop files here, or choose from your device. (Drive upload streaming will be added next.)"})]}),(0,t.jsx)("div",{className:"flex gap-2",children:(0,t.jsx)(i.Button,{type:"button",variant:"secondary",onClick:function(){d.current?.click()},disabled:c,children:"Choose files"})})]}),(0,t.jsx)("input",{ref:d,className:"hidden",type:"file",multiple:!0,onChange:e=>void h(Array.from(e.target.files??[]))})]}),m?(0,t.jsx)("div",{className:"rounded-xl border border-warning/30 bg-warning/10 px-3 py-2 text-sm text-warning",children:m}):null,c?(0,t.jsx)("div",{className:"text-xs text-muted-foreground",children:"Uploading…"}):null]})}e.s(["FileDropzone",()=>o])},60803,e=>{"use strict";var t=e.i(43476),r=e.i(71645),n=e.i(18566),a=e.i(76525);function i({eventId:e,nextStatus:i,children:o,variant:s="primary"}){let l=(0,n.useRouter)(),[d,c]=r.useState(!1);async function u(){c(!0),await fetch(`/api/events/${encodeURIComponent(e)}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({nextStatus:i})}),c(!1),l.refresh()}return(0,t.jsx)(a.Button,{onClick:u,disabled:d,variant:s,children:d?"Working…":o})}e.s(["EventStatusActionButton",()=>i])}]);