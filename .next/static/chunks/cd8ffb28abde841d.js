(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,5050,e=>{"use strict";var t=e.i(43476),s=e.i(33209);function r({className:e,...r}){return(0,t.jsx)("div",{className:(0,s.cn)("rounded-2xl border border-border bg-surface/70 shadow-sm backdrop-blur supports-[backdrop-filter]:bg-surface/60",e),...r})}function n({className:e,...r}){return(0,t.jsx)("div",{className:(0,s.cn)("p-5",e),...r})}function i({className:e,...r}){return(0,t.jsx)("h3",{className:(0,s.cn)("text-sm font-semibold text-foreground",e),...r})}function a({className:e,...r}){return(0,t.jsx)("p",{className:(0,s.cn)("mt-1 text-sm text-muted-foreground",e),...r})}function d({className:e,...r}){return(0,t.jsx)("div",{className:(0,s.cn)("px-5 pb-5",e),...r})}e.s(["Card",()=>r,"CardContent",()=>d,"CardDescription",()=>a,"CardHeader",()=>n,"CardTitle",()=>i])},9983,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(22016),n=e.i(18566),i=e.i(5050),a=e.i(76525);function d(){let e=(0,n.useRouter)(),[d,o]=s.useState([]),[c,l]=s.useState(!0);async function u(){l(!0);let e=await fetch("/api/notifications"),t=await e.json().catch(()=>null);o(t?.notifications??[]),l(!1)}async function m(t){await fetch("/api/notifications",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t})}),await u(),e.refresh()}return s.useEffect(()=>{u()},[]),(0,t.jsxs)(i.Card,{children:[(0,t.jsx)(i.CardHeader,{children:(0,t.jsx)(i.CardTitle,{children:"Notifications"})}),(0,t.jsx)(i.CardContent,{className:"grid gap-3",children:c?(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Loadingâ€¦"}):0===d.length?(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"No notifications yet."}):d.map(e=>(0,t.jsxs)("div",{className:"flex flex-col gap-2 rounded-2xl border border-border bg-surface/40 p-4 sm:flex-row sm:items-center sm:justify-between",children:[(0,t.jsxs)("div",{className:"min-w-0",children:[(0,t.jsxs)("div",{className:"text-sm font-medium",children:[e.title," ",e.readAt?(0,t.jsx)("span",{className:"ml-2 text-xs text-muted-foreground",children:"(read)"}):(0,t.jsx)("span",{className:"ml-2 text-xs text-primary",children:"(new)"})]}),(0,t.jsx)("div",{className:"mt-1 text-sm text-muted-foreground",children:e.body}),e.eventId?(0,t.jsxs)("div",{className:"mt-2 text-xs text-muted-foreground",children:["Event:"," ",(0,t.jsx)(r.default,{href:"#",className:"text-primary hover:underline",children:e.eventId})]}):null]}),e.readAt?null:(0,t.jsx)(a.Button,{variant:"secondary",onClick:()=>void m(e.id),children:"Mark read"})]},e.id))})]})}e.s(["NotificationsList",()=>d])}]);